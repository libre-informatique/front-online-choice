@import "materializecss/ghpages-materialize";

$primary-color: color('blue-grey','darken-2'); //Teal
$accent-color: color('amber', 'lighten-2'); // Orange
$success-color: color('green', 'lighten-1'); // green
$danger-color: color('red', 'lighten-2'); // red lighten-2
$info-color: color('indigo', 'lighten-2'); // indigo lighten-2
$normal-color: color('blue-grey', 'base'); // blue-grey
$body-bg: color('blue-grey','lighten-5');
$neutral-color: color('grey','base');

.primary {
    background-color:$primary-color;
    &.btn:hover {
        background-color:lighten($primary-color,10%);
    }
}
.primary-text {
    color:$primary-color;
}

.accent {
    background-color:$accent-color;
    &.btn:hover {
        background-color:lighten($accent-color,10%);
    }
}
.accent-text {
    color:$accent-color;
}

.success {
    background-color:$success-color;
    &.btn:hover {
        background-color:lighten($success-color,10%);
    }
}
.success-text {
    color:$success-color;
}

.danger {
    background-color:$danger-color;
    &.btn:hover {
        background-color:lighten($danger-color,10%);
    }
}
.danger-text {
    color:$danger-color;
}

.info {
    background-color:$info-color;
    &.btn:hover {
        background-color:lighten($info-color,10%);
    }
}
.info-text {
    color:$info-color;
}

// MATERIAL ICONS
/* fallback */
@font-face {
    font-family: 'Material Icons';
    font-style : normal;
    font-weight: 400;
    src        : local('Material Icons'), local('MaterialIcons-Regular'), url('../fonts/MaterialIcons-Regular.woff2') format('woff2');
}

.material-icons {
    font-family               : 'Material Icons';
    font-weight               : normal;
    font-style                : normal;
    font-size                 : 24px;
    line-height               : 1;
    letter-spacing            : normal;
    text-transform            : none;
    display                   : inline-block;
    white-space               : nowrap;
    word-wrap                 : normal;
    direction                 : ltr;
    -moz-font-feature-settings: 'liga';
    -moz-osx-font-smoothing   : grayscale;
}

// APP

body,
html {
    min-height: 100%;
}

html,body {
    /*background: transparent url("/img/bg.jpg") no-repeat scroll center center;*/
    /*background-size: cover;*/
    background: $body-bg;
}

#app {
    nav {
        background-color:$primary-color;
        position:fixed;
        box-shadow:none;
        z-index: 998;
        height: 4.3em;
        .nav-wrapper {
            z-index: 998;

            & > #nav-mobile-right > li > a,
            & > #nav-mobile-left > li > a {
                height: 4.35em;
            }
        }

        .brand-logo {
            padding-left: 0.5em;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
        }

        #userMenu {
            z-index:999;
            overflow: visible;
            right   : 0;
            left    : auto !important;
            li {
                z-index:999;
            }
        }

        li {
            a {
                &:hover, 
                    &:active {
                    background-color:color('blue-grey', 'darken-1');
                }
            }
        }
    }

    // Funny hack to hide UI if not logged in
    &.loggedIn {
        .showIfLoggedIn {
            display: block;
        }

        .hideIfLoggedIn {
            display: none;
        }
    }

    &:not(.loggedIn) {
        .showIfLoggedIn {
            display: none;
        }

        .hideIfLoggedIn {
            display: block;
        }
    }

    &.loggedIn,
    &:not(.loggedIn) {
        handlebar-placeholder {
            display: block;
        }
    }
    .loginForm {
        max-width : 500px;
        margin-top: 25vh;
    }

    .content {
        padding:4.3em 0 1em 0;

        #main {
            .col {
                padding: 0;
            }

            #tabs {
                height: 2.8em;
                display: flex;
                flex-direction: row;
                /*box-shadow: none;*/
                position:fixed;
                z-index: 990;

                .tab {
                    background-color:darken($primary-color,5%);
                    height: 100%;
                    width:auto;
                    flex-grow: 1;

                    .badge {
                        color:$primary-color;
                        background-color:white;
                        border-radius: 0.2em;
                        width: 1.5em;
                        height: 1.5em;
                        min-width: auto;
                        float: none;
                        font-weight:bold;

                        &.empty {
                            opacity:0.4;
                        }
                    }
                }

                .indicator {
                    height          : 3px;
                    background-color: $accent-color;
                }

                a {
                    color: white;

                    &:active,
                        &:hover {
                        color: $accent-color;
                    }
                }
            }

            .tab-content {
                display: none;
                padding-top:2em;
            }

            #headers {
                margin-top: 20px;
                border-bottom:1px solid darken($body-bg,5%);
            }

            #periods {
                .period {
                    border-bottom:1px solid darken($body-bg,10%);
                    padding-bottom: 2em;
                    .period-label-container {
                        min-height: 108px;
                        padding-top:2em;
                        .period-label {
                            color      : $primary-color;
                            font-weight: bold;
                            font-size  : 1.6em;
                            text-transform: uppercase;

                            .lock {
                                display:none;
                            }

                            &.pinned {
                                /*margin-top: 4.5em;*/
                                width:100%;
                                text-align:center;
                                background-color:transparentize($body-bg,0.1);
                                z-index: 990;
                                margin-top: 0;
                                &::after {
                                    content: '';
                                    width:100%;
                                    height:10px;
                                    position: absolute;
                                    left: 0;
                                    bottom: -10px;
                                    /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#000000+0,000000+100&0.14+0,0+100 */
                                    background: -moz-linear-gradient(top, rgba(0,0,0,0.14) 0%, rgba(0,0,0,0) 100%); /* FF3.6-15 */
                                    background: -webkit-linear-gradient(top, rgba(0,0,0,0.14) 0%,rgba(0,0,0,0) 100%); /* Chrome10-25,Safari5.1-6 */
                                    background: linear-gradient(to bottom, rgba(0,0,0,0.14) 0%,rgba(0,0,0,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
                                    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#24000000', endColorstr='#00000000',GradientType=0 ); /* IE6-9 */
                                }
                            }
                        }
                    }



                    &.timeSlotLocked {
                        .period-label-container {
                            .period-label {
                                .lock {
                                    display:inline-block;
                                }
                            }
                        }
                    }

                }
            }

            .events {
                .manifestations-list {
                    .event {
                        height      : 100px;
                        min-height  : 100px;
                        margin-right: 10%;

                        .event-card {

                            height      : 100px;
                            min-height  : 100px;

                            .event-image {
                                background-repeat: no-repeat;
                                background-position: 50% 50%;
                                background-size: contain;
                                /*background-color:$primary-color;*/
                                background-image:url('../img/default-manifestation.png');
                                position:relative;
                                &::after {
                                    content: '';
                                    width:0.5em;
                                    position: absolute;
                                    right:0;
                                    height:100%;
                                    /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#000000+0,4b626d+100&0+0,0.65+100 */
                                    background: -moz-linear-gradient(left, rgba(0,0,0,0) 0%, rgba(75,98,109,0.65) 100%); /* FF3.6-15 */
                                    background: -webkit-linear-gradient(left, rgba(0,0,0,0) 0%,rgba(75,98,109,0.65) 100%); /* Chrome10-25,Safari5.1-6 */
                                    background: linear-gradient(to right, rgba(0,0,0,0) 0%,rgba(75,98,109,0.65) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
                                    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#a64b626d',GradientType=1 ); /* IE6-9 */
                                }
                            }

                            .label {
                                margin-right: 20px;
                                .event-label {
                                    padding-left:1em;
                                }
                            }

                            .presence {
                                justify-content: center;
                                .btn, .btn-flat {
                                    color:white;
                                }
                            }

                            .priority {
                                /*margin: auto;*/
                                cursor: default;
                                opacity:0.1;
                                position:relative;

                                .priorityNumber {
                                    color:transparentize($neutral-color,0.5);
                                    position: absolute;
                                    display: block;
                                    top: 0;
                                    left: 0;
                                    right: 0;
                                    bottom: 0;
                                    font-size: 10rem;
                                    font-weight: bold;
                                    overflow: hidden;
                                    line-height: 7rem;
                                    text-align: right;
                                }

                                i {
                                    display: block;


                                    &.handle {
                                        /*margin   : -20px 0;*/
                                        /*margin   : 0;*/
                                        margin: 0 auto;
                                        font-size: 2.2em;

                                        opacity:0.4;
                                    }

                                    &.priority-down,
                                    &.priority-up {
                                        font-size: 2.9em;
                                    }
                                }

                                &.disabled {
                                    cursor: default;
                                    opacity:0;
                                    i {
                                        display:none;
                                    }
                                }

                                &:not(.disabled) {
                                    &::before {
                                        content: '';
                                        width:2px;
                                        height:80%;
                                        background:black;
                                        opacity:0.05;
                                    }
                                }
                            }
                        }

                        .event-time {
                            line-height: 120px;
                        }
                        &.selected {
                            .event-card {
                                .label {
                                    .event-label {
                                        font-weight:bold;
                                    }
                                }
                            }
                        }

                        &.disabled {
                            opacity:0.5;
                        }
                    }
                    &.active {
                        .event:not(.cantSort) {
                            .event-card {
                                .priority {
                                    opacity:1;
                                    cursor: move;
                                }
                            }
                        }
                    }
                }
            }


            #confirm-fab {
                position: fixed;
                bottom  : 50px;
                right   : 40px;
                width   : 56px;
            }
        }

        .userProfileTable {
            tr {
                td {
                    &:first-of-type {
                        text-align : right;
                        font-weight: bold;
                    }

                    .badge {
                        float: left;
                    }
                }
            }
            .fixed-action-btn {
                position: fixed;
                bottom: 50px;
                right: 40px;
                width: 56px;
            }
        }
    }
}

#toast-container {
    top: 0;
    left: 25%;
    right: 25%;
    height: 0;
    padding-top: 3em;

    .toast {
        margin:0.5em auto;
        float: none;
        text-align: center;
        font-weight:bold;
        border-bottom-width:3px;
        border-bottom-style: solid;

        &.info {
            background: white;
            color: $info-color;
            border-bottom-color: $info-color;
        }
        &.warning {
            background: white;
            color: $accent-color;
            border-bottom-color:$accent-color ;
        }
        &.error {
            background: white;
            color: $danger-color;
            border-bottom-color:$danger-color ;
        }
        &.success {
            background: white;
            color: $primary-color;
            border-bottom-color: $primary-color;
        }
        &.default {
            background: white;
            color: $normal-color;
            border-bottom-color:$normal-color ;
        }
    }
}

:focus {
    outline: none;
}

::-moz-focus-inner {
    border: 0;
}

::selection {
    background: $accent-color; /* WebKit/Blink Browsers */
}
::-moz-selection {
    background: $accent-color; /* Gecko Browsers */
}

.notselectable {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.selectable {
    -webkit-touch-callout: text;
    -webkit-user-select: text;
    -khtml-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
}

.ghost {
    opacity:0 !important;
}

.badge.red {
    color:white;
}

.btn-fullwidth {
    width:100%;
}


/* label color */
.input-field label {
    color: $primary-color;
}
/* label focus color */
.input-field input[type=text]:focus + label {
    color: $primary-color;
}
/* label underline focus color */
.input-field input[type=text]:focus {
    border-bottom: 1px solid $primary-color;
    box-shadow: 0 1px 0 0 $primary-color;
}
/* valid color */
.input-field input[type=text].valid {
    border-bottom: 1px solid $success-color;
    box-shadow: 0 1px 0 0 $success-color;
}
/* invalid color */
.input-field input[type=text].invalid {
    border-bottom: 1px solid $danger-color;
    box-shadow: 0 1px 0 0 $danger-color;
}
/* icon prefix focus color */
.input-field .prefix.active {
    color: $primary-color;
}

#mainLoader {
    z-index      : 999;
    opacity      : 1;
    position     : fixed;
    top:0;
    margin: 0;
    background-color: color('blue-grey','lighten-2'); 

    &.hidden {
        opacity: 0;
    }
    &.progress {
        .indeterminate {
            background-color: color('blue-grey','darken-1');
        }
    }
}

#contentLoader {
    display:none;
    width: 150px;
    height: 150px;
    /*display:block;*/
    .preloader-wrapper {
        width: 150px;
        height: 150px;
    }
    margin: 0 auto;
    margin-top: 25%;
    background:transparent url('../img/logo-evenement-small.png') no-repeat scroll center center;
}

.dropdown-content {
    li {
        &> a{
            color: $primary-color;

            &:hover {
                color: white;
            }
        }
    }
}

[type="checkbox"]:checked + label::before {
    border-right: 2px solid $success-color;
    border-bottom: 2px solid $success-color;
}